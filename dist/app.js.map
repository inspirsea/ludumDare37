{"version":3,"sources":["webpack:///./src/main.ts","webpack:///./src/app/game.ts","webpack:///./src/app/index.ts","webpack:///./src/app/context.ts","webpack:///./src/model/index.ts","webpack:///./src/model/shaderType.ts","webpack:///./src/model/tile.ts","webpack:///./src/model/vector.ts","webpack:///./src/model/square.ts","webpack:///./src/model/powerUp.ts","webpack:///./src/model/powerUpCounter.ts","webpack:///./src/app/tileMap.ts","webpack:///./src/app/render/renderCall.ts","webpack:///./src/app/render/textureMapper.ts","webpack:///./src/app/render/renderHelper.ts","webpack:///./src/app/render/render.ts","webpack:///./src/app/collidables.ts","webpack:///./src/app/player/player.ts","webpack:///./src/app/render/animate.ts","webpack:///./src/app/forces/gravity.ts","webpack:///./src/app/collision/collisionDetection.ts","webpack:///./src/app/forces/creepingDarkness.ts"],"names":[],"mappings":"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,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEtC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAGvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAGvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SAEvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;SACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,eA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","file":"app.js","sourcesContent":["import { Game } from './app/game';\r\n\r\n(function(){\r\n\tvar game = new Game();\r\n\r\n\tdocument.getElementById(\"restart\").addEventListener(\"click\", (event: MouseEvent) => {\r\n\t\t//document.getElementById(\"game\").removeChild();\r\n\r\n\t\tvar conatiner = document.getElementById(\"gameContainer\");\r\n\t\t\twhile (conatiner.firstChild) {\r\n    \t\tconatiner.removeChild(conatiner.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\tgame = null;\r\n\t\t\tgame = new Game();\r\n\t});\r\n})()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Context, TileMap, Render } from './';\r\nimport { Collidables } from './collidables';\r\nimport { RenderCall } from './render/renderCall';\r\nimport { Player } from './player/player';\r\nimport { Vector } from '../model';\r\nimport { CollisionDetection } from './collision/collisionDetection';\r\nimport { Gravity } from './forces/gravity';\r\nimport { CreepingDarkness } from './forces/creepingDarkness';\r\n\r\n\r\nexport class Game\r\n{\r\n\tprivate fps = 60;\r\n\tprivate context: Context = new Context();\r\n\tprivate collidables: Collidables;\r\n\tprivate tileMap: TileMap = new TileMap();\r\n\tprivate creepingDarkness =  new CreepingDarkness();\r\n\tprivate render: Render;\r\n\tprivate renderCalls: RenderCall[] = [];\r\n\tprivate collision: CollisionDetection = new CollisionDetection();\r\n\tprivate player: Player;\r\n\tprivate leftKeyPress: boolean;\r\n\tprivate rightKeyPress: boolean;\r\n\tprivate jumpKeyPress: boolean;\r\n\tprivate tileSizeX: number = 25;\r\n\tprivate tileSizeY: number = 25;\r\n\tprivate started: boolean = false;\r\n\r\n\tconstructor() {\r\n\t\tvar doneLoading = this.context.doneListener();\r\n\r\n\t\tdoneLoading.subscribe(() => {\r\n\t\t\tthis.render = new Render();\r\n\t\t\tthis.start();\r\n\t\t});\r\n\r\n\t\tthis.context.init(1200, 800);\r\n\t\tthis.collidables = new Collidables(this.context);\r\n\t\tthis.tileMap.create(this.context, this.tileSizeX, this.tileSizeY);\r\n\t\tthis.creepingDarkness.init(this.context, this.tileMap.tiles);\r\n\t\tthis.player = new Player(new Vector(200, 600), this.context, 42, 50);\r\n\t}\r\n\r\n\tprivate start() {\r\n\t\tthis.initKeyBindings();\r\n\t\tsetInterval(this.run(), (1000/this.fps));\r\n\t}\r\n\r\n\tprivate run() {\r\n\t\tvar loops = 0, skipTicks = 1000 / this.fps,\r\n      \tmaxFrameSkip = 10,\r\n      \tnextGameTick = (new Date).getTime();\r\n\r\n  \t\treturn () => {\r\n\t    \tloops = 0;\r\n\r\n\t    \twhile ((new Date).getTime() > nextGameTick && loops < maxFrameSkip) {\r\n\t      \t\t//Todo gamelogic update\r\n\t\t\t\t\t\tif(this.player.dead == true) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.renderCalls = [];\r\n\r\n\t\t\t\t\t\tif(this.started) {\r\n\t\t\t\t\t\t\tthis.tileMap.refreshCollidableTiles();\r\n\t\t\t\t\t\t\tthis.collidables.update(this.tileMap.collidableTiles);\r\n\t\t\t\t\t\t\tthis.creepingDarkness.update(this.player.repelingDarkness);\r\n\t\t\t\t\t\t\tthis.collision.checkCollidables(this.player, this.collidables);\r\n\t\t\t\t\t\t\tthis.checkKeys();\r\n\t\t\t\t\t\t\tthis.collision.checkIfWallCollision(this.player, this.tileMap, this.tileSizeX);\r\n\t\t\t\t\t\t\tthis.player.update();\r\n\t\t\t\t\t\t\tthis.checkSolid();\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t\tnextGameTick += skipTicks;\r\n\t\t\t\t\t\tloops++;\r\n\r\n\t    \t}\r\n\r\n\t    \tif(loops) {\r\n\t\t\t\t\tthis.context.gl.clear(this.context.gl.DEPTH_BUFFER_BIT | this.context.gl.COLOR_BUFFER_BIT);\r\n\t\t\t\t\tif(this.player.dead == true) {\r\n\t\t\t\t\t\t\tthis.renderCalls.push(this.player.createDeathCall());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.renderCalls.push(this.player.createRenderCall());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.renderCalls.push(this.collidables.createRenderCall());\r\n\t\t\t\t\tthis.renderCalls.push(this.tileMap.createRenderCall());\r\n\t\t\t\t\tthis.render.render(this.renderCalls);\r\n\t    \t}\r\n  \t\t};\r\n\t}\r\n\r\n\tprivate checkKeys() {\r\n\t\tif(this.leftKeyPress) {\r\n\t\t\tthis.player.moveLeft();\r\n\t\t}\r\n\r\n\t\tif(this.rightKeyPress) {\r\n\t\t\tthis.player.moveRight();\r\n\t\t}\r\n\r\n\t\tif(this.jumpKeyPress) {\r\n\t\t\tthis.player.jump();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate checkSolid() {\r\n\t\tvar tilesToCheck = this.collision.detectPossibleCollisions(this.player.position, this.tileMap.tiles, this.tileSizeX);\r\n\t\tlet groundCollision = this.collision.checkCollision(tilesToCheck, this.player.getCollisionArea(), this.player);\r\n\r\n\t\tif(!groundCollision) {\r\n\t\t\tthis.player.fall();\r\n\t\t} else {\r\n\t\t\tgroundCollision = this.player.groundCollision();\r\n\t\t}\r\n\r\n\t\tlet wallCollision = this.collision.checkCollision(tilesToCheck, this.player.getCollisionArea(), this.player);\r\n\r\n\t\tif(wallCollision) {\r\n\t\t\tthis.player.wallCollision();\r\n\t\t}\r\n\r\n\t\tif(groundCollision && !wallCollision) {\r\n\t\t\tthis.player.resetJump();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate initKeyBindings() {\r\n\r\n\t\tdocument.body.addEventListener(\"keydown\", (event: KeyboardEvent) => {\r\n\r\n\t\t    var keyCode = event.keyCode;\r\n\r\n\t\t    switch (keyCode) {\r\n\t\t    \tcase 65:\r\n\t\t    \t\tthis.leftKeyPress = true;\r\n\t\t    \t\tbreak;\r\n\t\t    \tcase 68:\r\n\t\t    \t\tthis.rightKeyPress = true;\r\n\t\t    \t\tbreak;\r\n\t\t    \tcase 87:\r\n\t\t    \t\tthis.jumpKeyPress = true;\r\n\t\t    }\r\n\r\n\t\t});\r\n\r\n\t\tdocument.body.addEventListener(\"keyup\", (event: KeyboardEvent) => {\r\n\r\n\t\t    var keyCode = event.keyCode;\r\n\r\n\t\t    switch (keyCode) {\r\n\t\t    \tcase 65:\r\n\t\t    \t\tthis.leftKeyPress = false;\r\n\t\t    \t\tbreak;\r\n\t\t    \tcase 68:\r\n\t\t    \t\tthis.rightKeyPress = false;\r\n\t\t    \t\tbreak;\r\n\t\t    \tcase 87:\r\n\t\t    \t\tthis.jumpKeyPress = false;\r\n\t\t    \t\tbreak;\r\n\t\t    }\r\n\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(\"start\").addEventListener(\"click\", (event: MouseEvent) => {\r\n\t\t\tthis.started = true;\r\n\t\t});\r\n\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game.ts","import { Context } from './context';\r\nimport { Game } from './game';\r\nimport { TileMap } from './tileMap';\r\nimport { Render } from './render/render';\r\n\r\nexport { Context };\r\nexport { Game };\r\nexport { TileMap };\r\nexport { Render };\n\n\n// WEBPACK FOOTER //\n// ./src/app/index.ts","import $ = require('jquery');\r\nimport { Observable, Subscription, Observer } from 'rxjs';\r\nimport { ShaderType } from '../model';\r\n\r\nexport class Context\r\n{\r\n\tpublic shaderProgram: WebGLProgram;\r\n\tpublic gl: WebGLRenderingContext;\r\n\tpublic canvas: HTMLCanvasElement;\r\n\tpublic texture: WebGLTexture;\r\n\tprivate observer: Observer<null>;\r\n\r\n\r\n\tconstructor(){\r\n\t}\r\n\r\n\tpublic doneListener() {\r\n\t\treturn new Observable((observer: any) => {\r\n\t\t\tthis.observer = observer;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic init(width: number, height: number) {\r\n\t\tthis.initContext(width, height);\r\n\t\tthis.initShaders();\r\n\t}\r\n\r\n\tprivate initContext(width: number, height: number) {\r\n\r\n\t\tvar div = document.createElement(\"div\");\r\n\t\tvar container = document.getElementById(\"gameContainer\");\r\n\r\n\t\tthis.canvas = document.createElement(\"canvas\");\r\n\t\tthis.canvas.width = width;\r\n\t\tthis.canvas.height = height;\r\n\t\tdiv.id = \"game\";\r\n\t\tdiv.style.display = \"block\";\r\n\r\n\r\n\t\tdiv.appendChild(this.canvas);\r\n\t\tcontainer.appendChild(div);\r\n\r\n\t\tthis.gl = this.canvas.getContext(\"experimental-webgl\");\r\n\r\n\t\tconsole.log(\"Context initialized...\");\r\n\t}\r\n\r\n\tprivate initShaders() {\r\n\t\t$.when( this.loadShader(ShaderType.Vertex), this.loadShader(ShaderType.Fragment) ).then((vertexData: string, fragmentData: string) => {\r\n\t\t\tvar vertexShader = this.compileShader(vertexData[0], ShaderType.Vertex);\r\n\t\t\tvar fragmentShader = this.compileShader(fragmentData[0], ShaderType.Fragment);\r\n\r\n\t\t\tthis.shaderProgram = this.gl.createProgram();\r\n\t\t\tthis.gl.attachShader(this.shaderProgram, vertexShader);\r\n\t\t\tthis.gl.attachShader(this.shaderProgram, fragmentShader);\r\n\t\t\tthis.gl.linkProgram(this.shaderProgram);\r\n\t\t\tif (!this.gl.getProgramParameter(this.shaderProgram, this.gl.LINK_STATUS)) {\r\n\t\t\t \talert(\"Unable to initialize the shader program: \" + this.gl.getProgramInfoLog(this.shaderProgram));\r\n\t\t\t}\r\n\t\t\tthis.gl.useProgram(this.shaderProgram);\r\n\r\n\t\t\tthis.initTextures(this.gl);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate initTextures(gl: WebGLRenderingContext) {\r\n\t\tthis.texture = gl.createTexture();\r\n  \t\tvar textureImage = new Image();\r\n  \t\ttextureImage.onload = () => {\r\n  \t\t\tthis.handleTextureLoaded(textureImage, this.texture, gl);\r\n  \t\t};\r\n  \t\ttextureImage.src = \"/assets/sprites.png\";\r\n\t}\r\n\r\n\tprivate handleTextureLoaded(image: HTMLImageElement, texture: WebGLTexture, gl: WebGLRenderingContext) {\r\n  \t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n  \t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n  \t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n  \t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n  \t\tgl.generateMipmap(gl.TEXTURE_2D);\r\n  \t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n\t\t\tgl.clearColor(1, 1, 1, 1);\r\n  \t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n\t\t\tgl.enable(gl.BLEND);\r\n\r\n  \t\tthis.observer.next(null);\r\n\t}\r\n\r\n\tprivate compileShader(source: string, shaderType: ShaderType) {\r\n\t\tvar shader: WebGLShader;\r\n\r\n\t\tif(shaderType == ShaderType.Fragment) {\r\n\t\t\tshader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\r\n\t\t} else if (shaderType == ShaderType.Vertex) {\r\n\t\t\tshader = this.gl.createShader(this.gl.VERTEX_SHADER);\r\n\t\t}\r\n\r\n\t\tthis.gl.shaderSource(shader, source);\r\n\t\tthis.gl.compileShader(shader);\r\n\r\n\t\tif (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n     \t\tconsole.log(\"An error occurred compiling the shaders: \" + this.gl.getShaderInfoLog(shader));\r\n     \t\treturn null;\r\n   \t\t}\r\n\r\n   \t\treturn shader;\r\n\t}\r\n\r\n\tprivate loadShader(shaderType: ShaderType) {\r\n\r\n\t\tvar shaderSource = \"\";\r\n\r\n\t\tif(shaderType == ShaderType.Fragment)\r\n\t\t{\r\n\t\t\tshaderSource = \"src/shader/fragmentShader.c\";\r\n\t\t} else if(shaderType == ShaderType.Vertex) {\r\n\t\t\tshaderSource = \"src/shader/vertexShader.c\";\r\n\t\t}\r\n\r\n\t\tvar promise = $.ajax({url: shaderSource});\r\n\r\n    \treturn promise;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/context.ts","import { ShaderType } from './shaderType';\r\nimport { Tile } from './tile'\r\nimport { Vector } from './vector';\r\nimport { Square } from './square';\r\nimport { PowerUp } from './powerUp';\r\nimport { PowerUpCounter } from './powerUpCounter';\r\n\r\nexport { ShaderType, Tile, Vector, Square, PowerUp, PowerUpCounter };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/index.ts","export enum ShaderType\r\n{\r\n\tVertex = 1,\r\n    Fragment = 2\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/shaderType.ts","export class Tile\r\n{\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\tpublic tileTextureType: number;\r\n\r\n\tconstructor(x: number, y: number, width: number, height: number, textureType: number){\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.tileTextureType = textureType;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/tile.ts","export class Vector {\r\n\r\n\tpublic x:number;\r\n\tpublic y: number;\r\n\r\n\tconstructor(x: number, y: number) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tpublic add(vector: Vector) {\r\n\t\tthis.x += vector.x;\r\n\t\tthis.y += vector.y;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic copy(vector: Vector) {\r\n\t\treturn new Vector(vector.x, vector.y);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/vector.ts","export class Square {\r\n\r\n  public x: number;\r\n  public y: number;\r\n  public width: number;\r\n  public height: number;\r\n\r\n  constructor(x: number, y:number, width: number, height: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.width = width;\r\n    this.height = height;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/square.ts","import { Square } from './'\r\n\r\nexport class PowerUp {\r\n\r\n  public box: Square;\r\n  public type: number;\r\n\r\n  constructor(private x: number, private y: number, private width: number, private height: number, type: number) {\r\n    this.box =  new Square(x, y, width, height);\r\n    this.type = type;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/powerUp.ts","export class PowerUpCounter {\r\n\r\n  public count: number = 180;\r\n  public type: number;\r\n\r\n  constructor(type: number) {\r\n    this.type = type;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/powerUpCounter.ts","import { Tile, Vector } from '../model';\r\nimport { RenderCall } from './render/renderCall';\r\nimport { TextureMapper } from './render/textureMapper';\r\nimport { RenderHelper } from './render/renderHelper';\r\nimport { Context } from './';\r\n\r\nexport class TileMap {\r\n\tpublic renderCall: RenderCall = new RenderCall();\r\n\tpublic tiles: Tile[][] = [];\r\n\tpublic collidableTiles: Tile[] = [];\r\n\tprivate context: Context;\r\n\tprivate tileSizeX: number;\r\n\tprivate tileSizeY: number;\r\n\tprivate textureMapper = TextureMapper.getInstance();\r\n\tprivate renderHelper: RenderHelper = RenderHelper.getInstance();\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic create(context: Context, tileSizeX: number, tileSizeY: number) {\r\n\t\tthis.context = context;\r\n\r\n\t\tthis.tileSizeX = tileSizeX;\r\n\t\tthis.tileSizeY = tileSizeY;\r\n\r\n\t\tvar columnNumber = this.context.canvas.width / this.tileSizeX;\r\n\t\tvar rowNumber = this.context.canvas.height / this.tileSizeY;\r\n\r\n\t\tfor(var i = 0; i < columnNumber; i++) {\r\n\t\t\tthis.tiles[i] = [];\r\n\t\t\tfor(var j = 0; j < rowNumber; j++) {\r\n\t\t\t\tthis.tiles[i][j] = new Tile((tileSizeX * i) + (tileSizeX / 2), (tileSizeY * j) + (tileSizeY / 2), tileSizeX, tileSizeY, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.tiles[7][28].tileTextureType = 1;\r\n\t\tthis.tiles[8][28].tileTextureType = 1;\r\n\t\tthis.tiles[9][28].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[12][28].tileTextureType = 1;\r\n\t\tthis.tiles[13][28].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[7][20].tileTextureType = 1;\r\n\t\tthis.tiles[8][20].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[12][20].tileTextureType = 1;\r\n\t\tthis.tiles[13][20].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[17][20].tileTextureType = 1;\r\n\t\tthis.tiles[18][20].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[20][25].tileTextureType = 1;\r\n\t\tthis.tiles[21][25].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[27][28].tileTextureType = 1;\r\n\t\tthis.tiles[28][28].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[31][28].tileTextureType = 1;\r\n\t\tthis.tiles[32][28].tileTextureType = 1;\r\n\t\tthis.tiles[33][28].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[37][20].tileTextureType = 1;\r\n\t\tthis.tiles[38][20].tileTextureType = 1;\r\n\t\tthis.tiles[39][20].tileTextureType = 1;\r\n\t\tthis.tiles[40][20].tileTextureType = 1;\r\n\t\tthis.tiles[41][20].tileTextureType = 1;\r\n\t\tthis.tiles[42][20].tileTextureType = 1;\r\n\t\tthis.tiles[43][20].tileTextureType = 1;\r\n\r\n\r\n\t\tthis.tiles[17][25].tileTextureType = 1;\r\n\t\tthis.tiles[18][25].tileTextureType = 1;\r\n\t\tthis.tiles[19][25].tileTextureType = 1;\r\n\t\tthis.tiles[20][25].tileTextureType = 1;\r\n\t\tthis.tiles[21][25].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[18][15].tileTextureType = 1;\r\n\t\tthis.tiles[19][15].tileTextureType = 1;\r\n\t\tthis.tiles[20][15].tileTextureType = 1;\r\n\t\tthis.tiles[21][15].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[25][22].tileTextureType = 1;\r\n\t\tthis.tiles[26][22].tileTextureType = 1;\r\n\t\tthis.tiles[27][22].tileTextureType = 1;\r\n\t\tthis.tiles[28][22].tileTextureType = 1;\r\n\r\n\r\n\t\tthis.tiles[25][10].tileTextureType = 1;\r\n\t\tthis.tiles[26][10].tileTextureType = 1;\r\n\t\tthis.tiles[27][10].tileTextureType = 1;\r\n\t\tthis.tiles[28][10].tileTextureType = 1;\r\n\t\tthis.tiles[29][10].tileTextureType = 1;\r\n\t\tthis.tiles[30][10].tileTextureType = 1;\r\n\t\tthis.tiles[31][10].tileTextureType = 1;\r\n\t\tthis.tiles[32][10].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[34][11].tileTextureType = 1;\r\n\t\tthis.tiles[35][12].tileTextureType = 1;\r\n\t\tthis.tiles[36][13].tileTextureType = 1;\r\n\t\tthis.tiles[37][14].tileTextureType = 1;\r\n\t\tthis.tiles[38][15].tileTextureType = 1;\r\n\r\n\t\tthis.tiles[10][10].tileTextureType = 1;\r\n\t\tthis.tiles[11][10].tileTextureType = 1;\r\n\t\tthis.tiles[12][10].tileTextureType = 1;\r\n\t\tthis.tiles[13][10].tileTextureType = 1;\r\n\t\tthis.tiles[14][10].tileTextureType = 1;\r\n\r\n\r\n\t\tthis.refreshCollidableTiles();\r\n\r\n}\r\n\r\n\tpublic refreshCollidableTiles() {\r\n\t\tfor(var i = 0; i < this.tiles.length; i++) {\r\n\t\t\tfor(var j = 0; j < this.tiles[i].length; j++) {\r\n\t\t\t\tif(this.tiles[i][j].tileTextureType != 0 && this.tiles[i][j].tileTextureType != 2) {\r\n\t\t\t\t\tthis.collidableTiles.push(this.tiles[i][j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic createRenderCall() {\r\n\t\tvar vertecies: number[] = [];\r\n\t\tvar textureCoords: number[] = [];\r\n\t\tvar indecies: number[] = [];\r\n\r\n\t\tfor(var i = 0; i < this.tiles.length; i++) {\r\n\t\t\tfor(var j = 0; j < this.tiles[i].length; j++) {\r\n\t\t\t\tif(this.tiles[i][j].tileTextureType != 0) {\r\n\t\t\t\t\tvertecies = this.renderHelper.getVertecies(this.tiles[i][j].x, this.tiles[i][j].y, this.tiles[i][j].width, this.tiles[i][j].height, vertecies);\r\n\t\t\t\t\ttextureCoords = this.renderHelper.getTextureCoordinates(textureCoords, this.tiles[i][j].tileTextureType);\r\n\t\t\t\t\tindecies = this.renderHelper.getIndecies(indecies);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.renderCall.vertecies = vertecies;\r\n\t\tthis.renderCall.textureCoords = textureCoords;\r\n\t\tthis.renderCall.indecies = indecies;\r\n\t\tthis.renderCall.context = this.context;\r\n\r\n\t\treturn this.renderCall;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/tileMap.ts","import { Context } from '../';\r\n\r\nexport class RenderCall {\r\n\tpublic vertecies: number[];\r\n\tpublic textureCoords: number[];\r\n\tpublic indecies: number[];\r\n\tpublic context: Context;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/render/renderCall.ts","import { Vector, Square } from '../../model';\r\n\r\nexport class TextureMapper {\r\n\r\n\tprivate static instance: TextureMapper = new TextureMapper();\r\n\r\n  constrcuctor() {\r\n\t\tif(TextureMapper.instance) {\r\n\t\t\tthrow new Error(\"Static class cant be instanced!\");\r\n\t\t}\r\n\r\n\t\tTextureMapper.instance = this;\r\n\t}\r\n\r\n\tpublic static getInstance() {\r\n\t\treturn TextureMapper.instance;\r\n\t}\r\n\r\n\tpublic mapTexture(textureType: number) {\r\n\t\tswitch(textureType) {\r\n\t\t\tcase 1: return new Square(0, 0, 64, 64);\r\n\t\t\tcase 2: return new Square(64, 0, 64, 64);\r\n\t\t\tcase 3: return new Square(0, 320, 64, 64);\r\n\t\t\tcase 15: return new Square(64, 320, 64, 64);\r\n\t\t\tcase 16: return new Square(0, 320, 64, 64);\r\n\t\t\tcase 50: return new Square(0, 384, 64, 64);\r\n\t\t\tcase 51: return new Square(64, 384, 64, 64);\r\n\t\t\tcase 52: return new Square(128, 384, 64, 64);\r\n\t\t\tcase 100: return new Square(192, 192, 128, 128);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/render/textureMapper.ts","import { TextureMapper } from './textureMapper';\r\n\r\nexport class RenderHelper {\r\n\r\n\tprivate static instance: RenderHelper = new RenderHelper();\r\n  private textureMapper:TextureMapper = TextureMapper.getInstance();\r\n\r\n  constrcuctor() {\r\n\t\tif(RenderHelper.instance) {\r\n\t\t\tthrow new Error(\"Static class cant be instanced!\");\r\n\t\t}\r\n\r\n\t\tRenderHelper.instance = this;\r\n\t}\r\n\r\n\tpublic static getInstance() {\r\n\t\treturn RenderHelper.instance;\r\n\t}\r\n\r\n  public getVertecies(x: number, y: number, width: number, height:number, currentVertecies: number[]) {\r\n\r\n\t\tvar x1 = x - (width / 2);\r\n  \tvar x2 = x + (width / 2);\r\n  \tvar y1 = y - (height / 2);\r\n  \tvar y2 = y + (height / 2);\r\n\r\n  \t\tvar newVertecies = [\r\n     \t\tx1, y1,\r\n     \t\tx2, y2,\r\n     \t\tx2, y1,\r\n     \t\tx1, y1,\r\n     \t\tx2, y2,\r\n     \t\tx1, y2\r\n     \t\t]\r\n\r\n     \tcurrentVertecies.push.apply(currentVertecies, newVertecies);\r\n\r\n     \treturn currentVertecies;\r\n\t}\r\n\r\n\tpublic getIndecies(currentIndecies: number[]) {\r\n\r\n\t\tvar vertexIndices = [\r\n    \t\tcurrentIndecies.length,  currentIndecies.length + 1,  currentIndecies.length + 2, currentIndecies.length + 3,  currentIndecies.length + 4,  currentIndecies.length + 5\r\n  \t\t];\r\n\r\n\t\tcurrentIndecies.push.apply(currentIndecies, vertexIndices);\r\n\r\n     \treturn currentIndecies;\r\n\t}\r\n\r\n\tpublic getTextureCoordinates(currentTextureCoordinates: number[], textureType: number) {\r\n\r\n\t\tvar square = this.textureMapper.mapTexture(textureType);\r\n\r\n\t\tlet x1: number = square.x/512;\r\n\t\tlet y1: number = square.y/512;\r\n    let x2 = (square.x + square.width)/512;\r\n    let y2 = (square.y + square.height)/512;\r\n\r\n\t\tvar textureCoordinates = [\r\n\t\t\tx1,  y1,\r\n\t\t  x2,  y2,\r\n\t\t  x2,  y1,\r\n\t\t  x1,  y1,\r\n\t\t  x2,  y2,\r\n\t\t  x1,  y2\r\n\t\t];\r\n\r\n\t\tcurrentTextureCoordinates.push.apply(currentTextureCoordinates, textureCoordinates);\r\n\r\n     \treturn currentTextureCoordinates;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/render/renderHelper.ts","import { Context } from '../context';\r\nimport { RenderCall } from './renderCall';\r\n\r\nexport class Render {\r\n\r\n\tprivate context: Context;\r\n\tprivate gl: WebGLRenderingContext;\r\n\tprivate shaderProgram: WebGLShader;\r\n\r\n\tprivate vertexBuffer: WebGLBuffer;\r\n\tprivate textureCoordBuffer: WebGLBuffer;\r\n\tprivate indeciesBuffer: WebGLBuffer;\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic render(renderCalls: RenderCall[]) {\r\n\t\t\r\n\r\n\t\tfor(let renderCall of renderCalls) {\r\n\r\n\t\t\tthis.context = renderCall.context;\r\n\t\t\tthis.gl = this.context.gl;\r\n\t\t\tthis.shaderProgram = this.context.shaderProgram;\r\n\r\n\t\t\tvar positionLocation = this.gl.getAttribLocation(this.shaderProgram, \"a_position\");\r\n\t\t\tthis.gl.enableVertexAttribArray(positionLocation);\r\n\t\t\tvar resolutionLocation = this.gl.getUniformLocation(this.shaderProgram, \"u_resolution\");\r\n\t\t\tvar colorLocation = this.gl.getUniformLocation(this.shaderProgram, \"u_color\");\r\n\t\t\tvar textureCoordAttribute = this.gl.getAttribLocation(this.shaderProgram, \"a_texture_coord\");\r\n\t\t\tthis.gl.enableVertexAttribArray(textureCoordAttribute);\r\n\t\t\tthis.gl.uniform1i(this.gl.getUniformLocation(this.shaderProgram, \"u_sampler\"), 0);\r\n\r\n\t\t\tthis.setBuffers(renderCall);\r\n\r\n\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\r\n\t\t\tthis.gl.vertexAttribPointer(positionLocation, 2, this.gl.FLOAT, false, 0, 0);\r\n\t\t\tthis.gl.uniform2f(resolutionLocation, renderCall.context.canvas.width, renderCall.context.canvas.height);\r\n\r\n\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.textureCoordBuffer);\r\n\t\t\tthis.gl.vertexAttribPointer(textureCoordAttribute, 2, this.gl.FLOAT, false, 0, 0);\r\n\r\n\t\t\tthis.gl.activeTexture(this.gl.TEXTURE0);\r\n\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, renderCall.context.texture);\r\n\t\t\tthis.gl.uniform1i(this.gl.getUniformLocation(this.shaderProgram, \"u_sampler\"), 0);\r\n\r\n\t\t\tthis.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indeciesBuffer);\r\n\t\t\tthis.gl.drawElements(this.gl.TRIANGLES, renderCall.indecies.length, this.gl.UNSIGNED_SHORT, 0)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setBuffers(renderCall: RenderCall) {\r\n\t\tthis.vertexBuffer = this.gl.createBuffer();\r\n  \t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\r\n\r\n  \t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(renderCall.vertecies), this.gl.STATIC_DRAW);\r\n\r\n  \t\tthis.textureCoordBuffer = this.gl.createBuffer();\r\n  \t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.textureCoordBuffer);\r\n\r\n  \t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(renderCall.textureCoords), this.gl.STATIC_DRAW);\r\n\r\n  \t\tthis.indeciesBuffer = this.gl.createBuffer();\r\n  \t\tthis.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indeciesBuffer);\r\n\r\n  \t\tthis.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(renderCall.indecies), this.gl.STATIC_DRAW);\r\n\t}\r\n\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/render/render.ts","import { PowerUp, Tile } from '../model';\r\nimport { RenderCall } from './render/renderCall';\r\nimport { RenderHelper } from './render/renderHelper';\r\nimport { Context } from './context';\r\n\r\nexport class Collidables {\r\n\r\n  public powerUps: PowerUp[] = [];\r\n  private renderHelper: RenderHelper = RenderHelper.getInstance();\r\n  private context: Context;\r\n  private updateCount: number = 0;\r\n  private powerUpOffset: number = 30;\r\n\r\n  constructor(context: Context) {\r\n    this.context = context;\r\n  }\r\n\r\n  public createRenderCall() {\r\n    var renderCall: RenderCall = new RenderCall();\r\n    var vertecies: number[] = [];\r\n\t\tvar textureCoords: number[] = [];\r\n\t\tvar indecies: number[] = [];\r\n\r\n    for(let powerUp of this.powerUps) {\r\n      vertecies = this.renderHelper.getVertecies(powerUp.box.x, powerUp.box.y, powerUp.box.width, powerUp.box.height, vertecies);\r\n      textureCoords = this.renderHelper.getTextureCoordinates(textureCoords, powerUp.type);\r\n      indecies = this.renderHelper.getIndecies(indecies);\r\n    }\r\n\r\n    renderCall.vertecies = vertecies;\r\n    renderCall.textureCoords = textureCoords;\r\n    renderCall.indecies = indecies;\r\n    renderCall.context = this.context;\r\n\r\n    return renderCall;\r\n  }\r\n\r\n  public update(tiles: Tile[]) {\r\n    this.updateCount++;\r\n    if(this.updateCount > 120) {\r\n        let type = Math.floor(Math.random() * 2) + 15;\r\n\r\n        let i = this.getUnocupiedPosition(tiles);\r\n\r\n        if(i >= 0) {\r\n          if(type == 15) {\r\n            this.powerUps.push(new PowerUp(tiles[i].x, tiles[i].y - this.powerUpOffset, 25, 25, type));\r\n          } else {\r\n            this.powerUps.push(new PowerUp(tiles[i].x, tiles[i].y - this.powerUpOffset, 25, 25, type));\r\n          }\r\n        }\r\n\r\n        this.updateCount = 0;\r\n    }\r\n  }\r\n\r\n  private getUnocupiedPosition(tiles: Tile[]) {\r\n\r\n    let index = -1;\r\n\r\n    for(var j = 0; j < 10; j++) {\r\n      let i = Math.floor(Math.random() * tiles.length);\r\n      let ocupied = false;\r\n\r\n      for(let powerUp of this.powerUps) {\r\n          if(tiles[i].x == powerUp.box.x && (tiles[i].y - this.powerUpOffset) == powerUp.box.y) {\r\n              ocupied = true;\r\n          }\r\n      }\r\n\r\n      if(!ocupied) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return index;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/collidables.ts","import { Vector, Square, PowerUpCounter, PowerUp } from '../../model';\r\nimport { TextureMapper } from '../render/textureMapper';\r\nimport { RenderCall } from '../render/renderCall';\r\nimport { RenderHelper } from '../render/renderHelper';\r\nimport { Animate } from '../render/animate';\r\nimport { Context } from '../';\r\nimport { Gravity } from '../forces/gravity';\r\n\r\nexport class Player {\r\n\r\n\tpublic position: Vector;\r\n\tpublic defaultJumpSpeed: number = -10;\r\n\tpublic jumpSpeed: number = this.defaultJumpSpeed;\r\n\tpublic repelingDarkness = false;\r\n\tpublic dead: boolean = false;\r\n\tprivate extraJumpSpeed: number = 0;\r\n\tprivate context: Context;\r\n\tprivate runningAnimation: Animate = new Animate();\r\n\tprivate inverse: boolean = false;\r\n\tprivate velocity: Vector = new Vector(0, 0);\r\n\tprivate drag: number = 0.4;\r\n\tprivate moving: boolean = false;\r\n\tprivate spriteSizeX: number;\r\n\tprivate spriteSizeY: number;\r\n\tprivate lastStablePosition: Vector;\r\n\tprivate gravity: Gravity = new Gravity();\r\n\tprivate jumping: boolean = false;\r\n\tprivate powerUpCounters: PowerUpCounter[] = [];\r\n\tprivate textureMapper: TextureMapper = TextureMapper.getInstance();\r\n\tprivate renderHelper: RenderHelper = RenderHelper.getInstance();\r\n\r\n\tconstructor(position: Vector, context: Context, spriteSizeX: number, spriteSizeY: number) {\r\n\t\tthis.position = position;\r\n\t\tthis.lastStablePosition = new Vector(this.position.x, this.position.y);\r\n\t\tthis.context = context;\r\n\r\n\t\tthis.spriteSizeX = spriteSizeX;\r\n\t\tthis.spriteSizeY = spriteSizeY;\r\n\r\n\t\t//this.animate.frames.push(new Point(1, 282));\r\n\t\tthis.runningAnimation.frames.push(this.textureMapper.mapTexture(50));\r\n\t\tthis.runningAnimation.frames.push(this.textureMapper.mapTexture(51));\r\n\t\tthis.runningAnimation.frames.push(this.textureMapper.mapTexture(52));\r\n\r\n\t}\r\n\r\n\tpublic createRenderCall() {\r\n\r\n\t\tvar call = new RenderCall();\r\n\t\tvar x: number = this.position.x;\r\n\t\tvar x1: number;\r\n\t\tvar x2: number;\r\n\r\n\t\tif(this.inverse) {\r\n\t\t\tx2 = x - (this.spriteSizeX / 2);\r\n\t\t\tx1 = x + (this.spriteSizeX / 2);\r\n\t\t} else {\r\n\t\t\tx2 = x + (this.spriteSizeX / 2);\r\n\t\t\tx1 = x - (this.spriteSizeX / 2);\r\n\t\t}\r\n\r\n  \t\tvar y1 = this.position.y - (this.spriteSizeY / 2);\r\n  \t\tvar y2 = this.position.y + (this.spriteSizeY / 2);\r\n\r\n\t\tcall.context = this.context;\r\n\r\n\t\tcall.vertecies = [\r\n\t\t\tx1, y1,\r\n     \t\tx2, y2,\r\n     \t\tx2, y1,\r\n     \t\tx1, y1,\r\n     \t\tx2, y2,\r\n     \t\tx1, y2\r\n\t\t];\r\n\r\n\t\tvar x1 = this.runningAnimation.getCurrentFrame().x/512;\r\n\t\tvar y1 = this.runningAnimation.getCurrentFrame().y/512;\r\n\t\tvar x2 = (this.runningAnimation.getCurrentFrame().x + this.runningAnimation.getCurrentFrame().width)/512;\r\n\t\tvar y2 = (this.runningAnimation.getCurrentFrame().y + this.runningAnimation.getCurrentFrame().height)/512;\r\n\r\n\r\n\t\tcall.textureCoords = [\r\n\t\t\t\tx1,  y1,\r\n\t\t    x2,  y2,\r\n\t\t    x2,  y1,\r\n\t\t    x1,  y1,\r\n\t\t    x2,  y2,\r\n\t\t    x1,  y2,\r\n\t\t];\r\n\t\tcall.indecies = [0, 1, 2, 3, 4, 5];\r\n\r\n\t\treturn call;\r\n\r\n\t}\r\n\r\n\tpublic update() {\r\n\t\tthis.checkPowerUps();\r\n\t\tthis.position.add(this.velocity);\r\n\t\tif(this.velocity.x != 0) {\r\n\t\t\tthis.runningAnimation.next();\r\n\t\t}\r\n\t\tif(!this.moving) {\r\n\t\t\tif(this.velocity.x > 0) {\r\n\t\t\t\tthis.velocity.x -= this.drag;\r\n\t\t\t\tif(this.velocity.x < this.drag) {\r\n\t\t\t\t\tthis.velocity.x = 0;\r\n\t\t\t\t}\r\n\t\t\t} else if(this.velocity.x < 0) {\r\n\t\t\t\tthis.velocity.x += this.drag;\r\n\t\t\t\tif(this.velocity.x > this.drag) {\r\n\t\t\t\t\tthis.velocity.x = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.moving = false;\r\n\t}\r\n\r\n\tpublic moveRight() {\r\n\t\tif(this.velocity.x < 3) {\r\n\t\t\tthis.velocity.x += 0.5;\r\n\t\t}\r\n\t\tthis.inverse = false;\r\n\t\tthis.moving = true;\r\n\t}\r\n\r\n\tpublic moveLeft() {\r\n\r\n\t\tif(this.velocity.x > -3) {\r\n\t\t\tthis.velocity.x -= 0.5;\r\n\t\t}\r\n\t\tthis.inverse = true;\r\n\t\tthis.moving = true;\r\n\t}\r\n\r\n\tpublic getCollisionArea() {\r\n\t\tvar collision = new Square(this.position.x, this.position.y, this.spriteSizeX, this.spriteSizeY);\r\n\r\n\t\treturn collision;\r\n\t}\r\n\r\n\tpublic wallCollision() {\r\n\t\tthis.position.x -= this.velocity.x;\r\n\t\tthis.velocity.x = 0;\r\n\t}\r\n\r\n\tpublic fall() {\r\n\t\tthis.gravity.apply(this.velocity);\r\n\t}\r\n\r\n\tpublic groundCollision() {\r\n\t\tlet groundCollision = this.velocity.y > 0;\r\n\r\n\t\tthis.position.y -= this.velocity.y;\r\n\t\tthis.velocity.y = 0;\r\n\r\n\t\treturn groundCollision;\r\n\t}\r\n\r\n\tpublic getNextCollisionArea(row: boolean) {\r\n\t\tif(row) {\r\n\t\t\tthis.position.x += this.velocity.x;\r\n\t\t} else {\r\n\t\t\tthis.position.y += this.velocity.y;\r\n\t\t}\r\n\r\n\t\treturn this.getCollisionArea();\r\n\t}\r\n\r\n\tpublic jump() {\r\n\t\tif(!this.jumping) {\r\n\t\t\tthis.velocity.y = (this.jumpSpeed - this.extraJumpSpeed);\r\n\t\t\tthis.jumping = true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic resetJump() {\r\n\t\tthis.jumping = false;\r\n\t}\r\n\r\n\tpublic addPowerUp(powerUp: PowerUp) {\r\n\t\tthis.powerUpCounters.push(new PowerUpCounter(powerUp.type))\r\n\t}\r\n\r\n\tpublic createDeathCall() {\r\n\t\tvar renderCall: RenderCall = new RenderCall();\r\n\t\tvar vertecies: number[] = [];\r\n\t\tvar textureCoords: number[] = [];\r\n\t\tvar indecies: number[] = [];\r\n\r\n\t\tvertecies = this.renderHelper.getVertecies(600, 400, 128, 128, vertecies);\r\n\t\ttextureCoords = this.renderHelper.getTextureCoordinates(textureCoords, 100);\r\n\t\tindecies = this.renderHelper.getIndecies(indecies);\r\n\r\n\t\trenderCall.vertecies = vertecies;\r\n\t\trenderCall.textureCoords = textureCoords;\r\n\t\trenderCall.indecies = indecies;\r\n\t\trenderCall.context = this.context;\r\n\r\n\t\treturn renderCall;\r\n\t}\r\n\r\n\tprivate checkPowerUps() {\r\n\t\tthis.extraJumpSpeed = 0;\r\n\t\tthis.repelingDarkness = false;\r\n\t\tfor(let i = 0; i < this.powerUpCounters.length; i++) {\r\n\t\t\tif(this.powerUpCounters[i].type == 16) {\r\n\t\t\t\tthis.extraJumpSpeed = 3;\r\n\t\t\t} else if(this.powerUpCounters[i].type == 15) {\r\n\t\t\t\tthis.repelingDarkness = true;\r\n\t\t\t}\r\n\t\t\tthis.powerUpCounters[i].count--;\r\n\t\t\tif(this.powerUpCounters[i].count <= 0) {\r\n\t\t\t\tthis.powerUpCounters.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player/player.ts","import { Square } from '../../model'\r\n\r\nexport class Animate {\r\n\r\n\tpublic frames: Square[] = [];\r\n\tprivate frameIndex: number = 0;\r\n\tprivate frameRenderTimes: number = 0;\r\n\tprivate frameRenderMaxTimes: number = 4;\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic next() {\r\n\r\n\t\tthis.frameRenderTimes++;\r\n\r\n\t\tif(this.frameRenderTimes >= this.frameRenderMaxTimes) {\r\n\t\t\tthis.frameRenderTimes = 0;\r\n\t\t\tthis.frameIndex++;\r\n\t\t\tif(this.frameIndex >= this.frames.length) {\r\n\t\t\t\tthis.frameIndex = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getCurrentFrame() {\r\n\t\treturn this.frames[this.frameIndex];\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/render/animate.ts","import { Vector } from '../../model';\r\n\r\nexport class Gravity {\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic apply(vector: Vector) {\r\n\t\tvector.y += 0.5;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/forces/gravity.ts","import { Vector, Tile, Square, PowerUp } from '../../model';\r\nimport { Collision } from './';\r\nimport { Collidables } from '../collidables';\r\nimport { Player } from '../player/player';\r\nimport { TileMap } from '../tileMap';\r\n\r\nexport class CollisionDetection {\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic detectPossibleCollisions(position: Vector, tiles: Tile[][], tileSize: number) {\r\n\t\tvar column = Math.floor(position.x/tileSize);\r\n\t\tvar row = Math.floor(position.y/tileSize);\r\n\r\n\t\tvar tilesToCheck: Tile[] = [];\r\n\t\ttilesToCheck.push(tiles[column-1][row + 1]);\r\n\t\ttilesToCheck.push(tiles[column][row + 1]);\r\n\t\ttilesToCheck.push(tiles[column+1][row + 1]);\r\n\t\ttilesToCheck.push(tiles[column-1][row]);\r\n\t\ttilesToCheck.push(tiles[column][row]);\r\n\t\ttilesToCheck.push(tiles[column+1][row]);\r\n\t\ttilesToCheck.push(tiles[column-1][row - 1]);\r\n\t\ttilesToCheck.push(tiles[column][row - 1]);\r\n\t\ttilesToCheck.push(tiles[column+1][row - 1]);\r\n\r\n\t\treturn tilesToCheck;\r\n\t}\r\n\r\n\tpublic checkCollision(tiles: Tile[], rect: Square, player: Player) {\r\n\t\tvar collision = false;\r\n\t\t\tfor(let tile of tiles) {\r\n\t\t\t\tif(tile.tileTextureType != 0) {\r\n\t\t\t\t\tif (tile.x - tile.width/2 < rect.x + rect.width/2 &&\r\n\t   \t\t\t\ttile.x + tile.width/2 > rect.x - rect.width/2 &&\r\n\t   \t\t\t\ttile.y - tile.height/2 < rect.y + rect.height/2 &&\r\n\t   \t\t\t\ttile.y + tile.height/2 > rect.y - rect.height/2) {\r\n\r\n\t\t\t\t\t\tif(tile.tileTextureType == 2) {\r\n\t\t\t\t\t\t\tplayer.dead = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcollision = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn collision;\r\n\t}\r\n\r\n\tpublic checkIfWallCollision(player: Player, tileMap: TileMap, tileSize: number) {\r\n\r\n\t\tvar wallCollision = true;\r\n\t\tvar i = 0;\r\n\t\twhile(wallCollision && i < 10) {\r\n\t\t\ti++;\r\n\t\t\tvar tilesToCheck = this.detectPossibleCollisions(player.position, tileMap.tiles, tileSize);\r\n\t\t\twallCollision = this.checkCollision(tilesToCheck, player.getNextCollisionArea(true), player);\r\n\t\t\tif(wallCollision) {\r\n\t\t\t\tplayer.wallCollision();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn wallCollision;\r\n\t}\r\n\r\n\tpublic checkCollidables(player: Player, collidables: Collidables) {\r\n\t\tvar collision = false;\r\n\t\tvar rect = player.getCollisionArea();\r\n\t\t\tfor(let i = 0; i < collidables.powerUps.length; i++) {\r\n\t\t\t\tif (collidables.powerUps[i].box.x - collidables.powerUps[i].box.width/2 < rect.x + rect.width/2 &&\r\n\t\t\t\t\tcollidables.powerUps[i].box.x + collidables.powerUps[i].box.width/2 > rect.x - rect.width/2 &&\r\n\t\t\t\t\tcollidables.powerUps[i].box.y - collidables.powerUps[i].box.height/2 < rect.y + rect.height/2 &&\r\n\t\t\t\t\tcollidables.powerUps[i].box.y + collidables.powerUps[i].box.height/2 > rect.y - rect.height/2) {\r\n\r\n\t\t\t\t\tplayer.addPowerUp(collidables.powerUps[i]);\r\n\r\n\t\t\t\t\tcollidables.powerUps.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn collision;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/collision/collisionDetection.ts","import { Context } from '../context';\r\nimport { Tile } from '../../model/tile';\r\n\r\nexport class CreepingDarkness {\r\n  private tiles: Tile[][];\r\n  public creepingDarkness: Tile[] = [];\r\n\r\n  constructior() {\r\n  }\r\n\r\n  public init(context: Context, tiles: Tile[][]) {\r\n    this.tiles = tiles;\r\n  }\r\n\r\n  public update(repel: boolean) {\r\n\r\n    if(repel) {\r\n      let possibleTiles = this.getPossibleDarkness(2, repel);\r\n      if(possibleTiles.length > 0) {\r\n        let i = Math.floor(Math.random() * possibleTiles.length);\r\n        possibleTiles[i].tileTextureType = 0;\r\n      }\r\n    } else {\r\n      let possibleTiles = this.getPossibleDarkness(2, repel);\r\n      if(possibleTiles.length > 0) {\r\n        let i = Math.floor(Math.random() * possibleTiles.length);\r\n        possibleTiles[i].tileTextureType = 2;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public repelDarkness() {\r\n\r\n  }\r\n\r\n\r\n  private getPossibleDarkness(type: number, repel: boolean) {\r\n\r\n    let possibleTiles: Tile[] = [];\r\n    let iInvert = this.tiles.length - 1;\r\n    let row = 0;\r\n    let rowInvert = this.tiles[0].length - 1;\r\n    let rightColumn: Tile[];\r\n    let leftColumn: Tile[];\r\n    let topRow: Tile[];\r\n    let bottomRow: Tile[];\r\n    let i = 0;\r\n    let j = 0;\r\n\r\n    if(repel) {\r\n      row = this.tiles[0].length/2;\r\n      rowInvert = this.tiles[0].length/2 - 1;\r\n      i = this.tiles.length/2;\r\n      iInvert = this.tiles.length/2 - 1;\r\n    }\r\n\r\n    for(; i < this.tiles.length; i++) {\r\n      topRow = this.row(this.tiles, row, type, j, repel);\r\n      bottomRow = this.row(this.tiles, rowInvert, type, j, repel);\r\n      rightColumn = this.column(this.tiles[iInvert], type, j, repel);\r\n      leftColumn = this.column(this.tiles[i], type, j, repel);\r\n\r\n      iInvert--;\r\n      row = row < this.tiles[i].length - 1 ? row + 1 : row;\r\n      rowInvert = rowInvert > 0 ? rowInvert - 1 : rowInvert;\r\n      j++;\r\n\r\n      if(leftColumn.length > 0 || rightColumn.length > 0 || topRow.length > 0 || bottomRow.length > 0) {\r\n        break;\r\n      }\r\n\t\t}\r\n\r\n    leftColumn.push.apply(leftColumn, rightColumn);\r\n    leftColumn.push.apply(leftColumn, topRow);\r\n    leftColumn.push.apply(leftColumn, bottomRow);\r\n\r\n    return leftColumn;\r\n  }\r\n\r\n  private row(tiles: Tile[][], iRow: number, type: number, size:number, repel: boolean) {\r\n    let row : Tile[] = [];\r\n    let i = 0;\r\n    let end = tiles.length;\r\n\r\n    if(repel) {\r\n      i = (tiles.length/2) - (size + 1);\r\n      end = (tiles.length/2) + (size + 1);\r\n    }\r\n\r\n    for(; i < end; i++) {\r\n      if(repel) {\r\n        if(tiles[i][iRow].tileTextureType == type) {\r\n          row.push(tiles[i][iRow]);\r\n        }\r\n      } else {\r\n        if(tiles[i][iRow].tileTextureType != type) {\r\n            row.push(tiles[i][iRow]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return row;\r\n  }\r\n\r\n  private column(tiles: Tile[], type: number, size:number, repel: boolean) {\r\n    let column: Tile[] = [];\r\n    let i = 0;\r\n    let end = tiles.length;\r\n\r\n    if(repel) {\r\n      i = (tiles.length/2) - size;\r\n      end = (tiles.length/2) + size;\r\n      i = i < 0 ? 0 : i;\r\n      if(end > tiles.length-1) {\r\n        end = tiles.length-1;\r\n      }\r\n    }\r\n\r\n    for(; i < end; i++) {\r\n      if(repel) {\r\n        if(tiles[i].tileTextureType == type) {\r\n          column.push(tiles[i]);\r\n        }\r\n      } else {\r\n        if(tiles[i].tileTextureType != type) {\r\n          column.push(tiles[i]);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    return column;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/forces/creepingDarkness.ts"],"sourceRoot":""}